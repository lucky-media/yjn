(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-area_stepped~infogram-charts/charts-column_grouped~infogram-charts/charts-col~c425fd1b"],{K8BY:function(t,e,n){"use strict";n.r(e),n.d(e,"ColumnStacked",(function(){return N}));var a=n("LvDl"),r=n.n(a),i=n("vBe5"),o=n("ziQ1"),c=n("/TIM"),l=n("+3eq"),s=n("30U6"),u=n("5Hgy"),h=n("emqt"),f=n("ejCe"),d=n("VDPv"),g=n("v3rV"),p=n("x+1q"),y=n("BGfC"),m=n("M51E"),b=n("3y/1"),v=n("3k8j"),O=n("x5YE"),x=n("VLlq"),j=n("2YLo"),S=n("XKI8"),k=n("pYxU"),w=n("SGek"),E=n("eXr4"),L=n("Fi9g"),D=n("D3ez"),C=n("U2YI");function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function R(t,e,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=W(t);if(e){var r=W(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object(D.putGraph)("column-stacked",C.ColumnStacked);var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(D,t);var e,n,a,u=U(D);function D(){return z(this,D),u.apply(this,arguments)}return e=D,a=[{key:"getClassName",value:function(){return"ColumnStacked"}}],(n=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,n=this.root,a=new j.Renderer({instance:this}),s=this.getSheetData(),u=Object(p.default)(s),m=Object(h.percentEnabled)(e),w=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:Object(g.inanimated)(e),sheet:s,formatter:u,percent:m},E=this.prepareSheetData(s,this.sheetIndex);L&&L.chartType("column"),this.createTickIntervals(),Object(x.default)(this,{width:e.width}),Object(k.DownloadButton)(this,e.style.legend);var L=Object(O.legendHelper)({instance:this});if(!this.sheetsNotFound(E)&&!this.failSafeByHeight(40)){var D=w.margin=w.layout.margin={top:0,right:0,bottom:0,left:0},C=w.layout.marginTitle={left:0,right:0,top:0,bottom:0},P=w.layout.marginAxis={left:0,right:0},T=w.limits={maxCategoryWidth:0,maxCategoryHeight:6},A=w.bottomLabelPadding={top:6,right:2,bottom:0,left:2},B=this.createAnimationCounter(3),z=I(s.axis,2),H=z[0],R=z[1];w.xAxisOptions=H,w.yAxisOptions=R;var G=e.style.axis,U=G.x,M=G.y,W=e.style.grid,N=r.a.get(H,"title"),_=w.categoryData=this.getCategoryData(E),Y=w.yDomain="absolute"!==e.series.data||Object(O.legendFiltered)(this)?this.getDomain(E):this.getSheetsSeriesDomain(),V=Object(v.limit)(R,Y),q=Y[0]<0,F=w.yScale=Object(o.scaleLinear)().domain(Y).clamp(V);w.categoryLayout=s.categories.layout;var Z=w.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:q?A.top:0,beforeBottomCategories:5},X=w.components.yAxisLeftText=Object(d.default)().scale(F).orient("left").style(M.tick);this.titleLayout(["x","y"]);var J=Object(b.getTextDimensions)([Object(b.firstNonEmpty)(_)],n,U.tick);D.right+=Math.ceil(.5*J.height);var K=w.width-D.left-C.left-D.right-C.right,Q={width:0,height:0};if(R.ticks){var $=f.ScaleHelper.ticks(F,this.runtime.yTickInterval);if(m){var tt=Object(h.percentFormat)(u.axis.y);$.forEach((function(t,e){$[e]=tt(t)})),Q=Object(b.getTextDimensions)($,n,M.tick)}else Q=this.yTicksMetrics($);P.left=Q.width,D.top=Q.height}var et=w.height-D.top-C.top-D.bottom-C.bottom;N&&(T.maxCategoryHeight+=A.bottom),T.maxCategoryHeight+=Math.floor(.27*et),w.graphWidth=K-P.left-P.right;var nt=Object(i.range)(0,_.length),at=w.xScale=this.createHorizontalScale(nt,[0,w.graphWidth],this.featuresColumnWidth(s));w.xScaleResize=this.createHorizontalScaleResize(),T.maxCategoryWidth=at.rangeBand()+at.padding()-A.left-A.right,w.igcLeftOffset=D.left+C.left+P.left,this.featuresCurtainAnimation()&&(w.igcLeftOffset=Math.floor(w.igcLeftOffset)),1===nt.length&&(T.maxCategoryWidth=w.graphWidth-A.left-A.right);var rt=this.createCategoryLabels();T.maxCategoryHeight=rt.height+A.top+A.bottom,H.ticks||(T.maxCategoryHeight=1);var it=w.graphHeight=et-T.maxCategoryHeight-Z.beforeCategoryBorder,ot=Object(f.Bottom)().style(U.tick).data(H.ticks?rt.renderData:[]).textAlign(rt.renderData.textAlign).bounds({height:T.maxCategoryHeight,y:et-T.maxCategoryHeight+Z.beforeBottomCategories});F.rangeRound([it,0]);var ct=w.components.yGridLines=Object(y.GridLines)().scale(F).orient(y.GridLines.ORIENTS.horizontal).tickSize(-K).highlightZero(s.grid.horizontalZeroHighlight).style(W).offset({left:-P.left}),lt=Object(y.GridLines)().scale(at).orient(y.GridLines.ORIENTS.vertical).tickSize(it).highlightZero(s.grid.verticalZeroHighlight).style(W);s.grid.vertical||lt.tickValues([]),X.textOffset(-(Q.height-Q.baseLineOffset)).offset({left:-P.left}),this.yTicksSetup(),this.gridSetupHorizontal();var st=0;R.ticks&&(st=X.getBorderingTick()-Q.height)>0&&(st=0),w.layout.firstTickOffset=st;var ut=D.top+C.top;this.titleComponents(["x","y"]);var ht=w.components,ft=ht.bottomTitle,dt=ht.leftTitle;ft.dispatch().on("animationEnd",B);var gt={igc:{x:w.igcLeftOffset,y:ut}};w.inanimate&&Object(g.removeAnimation)([dt,ft,lt,ct,X,ot]),this.containerSetup();var pt=n.select(".igc"),yt=l[e.animation.ease],mt=e.animation.duration;a.add((function(){n.attr("width",w.width).attr("height",w.height).transition().ease(yt).duration(mt).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){B()})),pt.attr("transform","translate(".concat(gt.igc.x,", ").concat(gt.igc.y,")"))})),a.addGrid(X,"igc-y-axis-text"),a.addGrid(ct,"igc-ygrid"),a.addGrid(lt,"igc-xgrid"),a.addGrid(ot,"igc-x-axis-text"),a.addGraph([{graphs:E,x:at,y:F,textStyle:e.style.graph.item.value,legend:L,transitionDuration:mt,tooltip:Object(S.createStyledTooltip)(this),animationEnd:B}]),this.featuresCurtainAnimation()&&a.add((function(){var e=n.select("defs"),a={x:-w.igcLeftOffset,y:-ut,width:w.width,height:w.height,clipPathId:"igc-cp-curtain-".concat(t.chartId)};pt.selectAll(".igc-graph").attr("clip-path","url(".concat(Object(b.absoluteUrl)(a.clipPathId),")")),t.createRectClipPath(e,a);var r=e.select("#".concat(a.clipPathId)).selectAll("path");r.attr("transform","translate(-".concat(w.width+w.igcLeftOffset,", 0)")).transition().on("end",(function(){r.attr("transform",null)})).duration(w.inanimate?0:500).ease(l.easeLinear).attr("transform","translate(0, 0)")})),"AreaStepped"!==this.getClassName()&&s.grid.horizontal&&H.ticks?a.addGrid((function(t){t.each((function(){var t=Object(c.select)(this).selectAll(".igc-x-axis-border-line").data([0]),e=mt;0===t.size()&&(e=0),(t=t.merge(t.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(yt).duration(e).attr("x",-P.left).attr("y",it+Z.beforeCategoryBorder).attr("width",w.graphWidth+P.left).attr("height",2).styles({fill:W.color,stroke:"none","stroke-width":0})}))}),"igc-x-axis-border"):a.add((function(){n.select(".igc .igc-grid .igc-x-axis-border").remove()})),a.addTitle(dt,"igc-title-left"),a.addTitle(ft,"igc-title-bottom"),a.start()}}},{key:"graphInstanceSetup",value:function(t,e,n,a){var r=a.graphs.length,i=this.chartId,o=this.runtime,c=o.formatter,u=o.percent,f=o.sheet,d=a.transitionDuration,p=a.legend,y=a.tooltip,m=e.colors,b="AreaStepped"===this.getClassName()?.7:null,v=this.graphData({data:e.data,colors:m,groupOffset:0,groupCount:1}),O=Object(s.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");p&&p.data().forEach((function(t){p.addListener({id:"".concat(i,"_").concat(t.groupId),dispatch:O})}));var x=Object(L.createListenToLegend)({easing:l.easeLinear,ns:"shape",opacity:b,dispatch:O}),j=function(t){return"".concat(t.xLabel,": ").concat(c.tooltip.y.format(t.yLabel))},S=function(t){return t.groupLabel};u&&(j=function(t){return t.xLabel},S=Object(h.tooltipPercentValue)({sheet:f,formatter:c,props:["groupLabel","yLabel","y"]}));var k=Object(E.createAddMouseEvents)({dispatch:O,legend:p,opacity:b,tooltip:y,chartId:i,tooltipText:j,tooltipValue:S,colors:m}),w=Object(g.removeDelay)(this,(function(){return n/r*(d-200)}));t.scaleY(a.y).data(v).listenToLegend(x).addMouseEvents(k).dispatch(O).transitionDelay(w).transitionDuration(d)}},{key:"getDomain",value:function(t){var e=[Object(i.min)(t,(function(t){var e=Object(i.sum)(t.data,(function(t){return t.y<0?t.y:0}));return w.math.preciseNumber(e)})),Object(i.max)(t,(function(t){var e=Object(i.sum)(t.data,(function(t){return t.y>0?t.y:0}));return w.math.preciseNumber(e)}))];return Object(v.ensureZeroEqual)(e),Object(v.ensureZero)(e),Object(o.scaleLinear)().domain(e).nice(10).domain()}},{key:"getSheetsSeriesDomain",value:function(){var t,e=this;return this.options.sheets.forEach((function(n,a){var i=r.a.merge({},e.emptySheetData(),n),o=e.prepareSheetData(i,a),c=e.getDomain(o);0===a?t=c.slice(0):(t[0]=Math.min(c[0],t[0]),t[1]=Math.max(c[1],t[1]))})),t}},{key:"emptySheetData",value:function(){return r.a.merge({},R(W(D.prototype),"emptySheetData",this).call(this),{series:[{type:"column-stacked"}]})}},{key:"prepareSheetData",value:function(t,e){var n=t.categories.colors,a=r.a.get(t,"graphOptions.column",{}).showValues;t.categories.data||(t.categories.data=[]);var i,o=e===this.sheetIndex;o&&(i=Object(O.createLegendData)(this));var c=t.categories.data.map((function(t,e){return{colors:n,data:[],categoryIdx:e,showValues:!0===a,type:"column-stacked"}}));t.series.forEach((function(e,a){var l=r.a.get(e,"index",a);o&&!i({color:Object(b.getColor)(l,n),title:Object(b.replaceBlank)(e.title),groupId:l}).active||e.data.forEach((function(n,a){var i=t.categories.data[a];void 0!==i&&c[a].data.push({x:a,y:Object(b.replaceBlank)(n,null),xLabel:Object(b.replaceBlank)(e.title),yLabel:Object(b.replaceBlank)(e.rawData[a]),groupLabel:Object(b.replaceBlank)(i),seriesIdx:l,link:r.a.get(e,"links[".concat(a,"]"),null)})}))}));var l=c.length;return c.forEach((function(t){0!==t.data.length&&(t.data.some((function(t){return null!==t.y}))||(t.data=[]))})),(c=c.filter((function(t){return t.data&&t.data.length>0}))).length!==l&&c.forEach((function(t,e){t.data.forEach((function(t){t.x=e}))})),this.runtime.percent&&Object(h.adjustStackedGraphs)(c,"y"),c}},{key:"createHorizontalScaleResize",value:function(){var t=this.featuresColumnWidth(this.runtime.sheet);return t?function(e,n){e.rangeBandsFixed(n,t)}:function(t,e){t.rangeBandsPct(e)}}},{key:"createHorizontalScale",value:function(t,e,n){var a=Object(m.Ordinal)().domain(t).rangeBandsPct(e);return n&&(a=Object(m.Ordinal)().domain(t).rangeBandsFixed(e,n)),a}},{key:"featuresColumnWidth",value:function(t){return t.categories.categoryWidth?Number(t.categories.categoryWidth):null}},{key:"featuresCurtainAnimation",value:function(){return"AreaStepped"===this.getClassName()}},{key:"graphData",value:function(t){var e=this.runtime;return function(t){var e=t.data,n=t.xScale,a=t.yScale,r=t.colors,o=t.groupOffset,c=t.groupCount,l=[0,0],s=n.bandwidth(),u=[];if(e.forEach((function(t,e){var i=u[e]={},o=t.y,c=+(o>0),h=0===c?1:0;i.y0=l[c],l[c]+=o,i.y1=l[c],i.x=t.x,i.width=s,i.xPos=n(t.x),i.xLabel=t.xLabel,i.y=t.y,i.height=a(i.y1)-a(i.y0),i.yPos=a(i.y0)+h,i.yLabel=t.yLabel,i.groupLabel=t.groupLabel,i.link=t.link,i.seriesIdx=t.seriesIdx,i.color=t.color||Object(b.getColor)(t.seriesIdx,r),i.group=t.group,i.stackIndex=t.stackIndex,i.categoryLabel=t.categoryLabel})),c>1){var h=Object(m.Ordinal)().domain(Object(i.range)(0,c));u.forEach((function(t){var e=t.xPos;h.rangeBandsPct([e,e+s]),t.xPos=h(o+t.group),t.width=h.bandwidth()}))}return u}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({xScale:e.xScale,yScale:e.yScale},t))}}])&&H(e.prototype,n),a&&H(e,a),D}(u.default)},U2YI:function(t,e,n){"use strict";n.r(e),n.d(e,"ColumnStacked",(function(){return u}));var a=n("LvDl"),r=n.n(a),i=n("ziQ1"),o=n("/TIM"),c=n("+3eq"),l=n("3y/1"),s=n("RYHP");function u(){var t,e,n,a=s.default.barToRight,u=Object(s.createTweenShape)(a,"y"),h=Object(i.scaleLinear)(),f=[],d={duration:{x:400,y:700}},g=function(){return 0},p=700,y=0,m=null,b=250;function v(a){d.duration.y=p,0===p&&(d.duration.x=p,b=0),a.each((function(){if(!f.length)return t.call("animationStart"),t.call("animationUpdateStart"),t.call("animationUpdateEnd"),t.call("animationEnterStart"),t.call("animationEnterEnd"),void t.call("animationEnd");var a=Object(o.select)(this),i=a.selectAll("path");i.transition().duration(0);var c=function(t){var e=[];t.each((function(t){var n=r.a.merge({},t);e.push(n)})),0===e.length&&(e=f.map((function(t){var e=r.a.merge({},t);return e.height=0,e.yPos=h(0),e})));return Object(l.pairData)(e,f,(function(t){t.height=0})),e}(i);!function(t){var e,n,a,r,i={x:["xPos","width"]};if(!t)return;function o(n){Math.abs(t[n]-e[n])<.2&&r++}for(n in e=t.next,d.duration)i[n]&&(a=i[n].length,r=0,i[n].forEach(o),a===r&&(d.duration[n]=0))}(c[0]),function(a,r){var i=a.selectAll("path").data(r),o=i.enter().insert("path","text"),c=0===i.size()&&i.size()<o.size(),l=d.duration,s=0;i.exit().remove(),i.style("fill",(function(t){return t.next.color})).style("stroke-width",0).style("opacity",m),c?(i=i.merge(o),t.call("animationStart"),t.call("animationUpdateStart"),t.call("animationUpdateEnd"),o.call(O,(function(){e(i),n(i),t.call("animationEnterEnd"),t.call("animationEnd")}))):(t.call("animationStart"),t.call("animationUpdateStart"),i.transition().duration(l.y).attrTween("d",u((function(t){return{yPos:t.next.yPos,xPos:t.xPos,height:t.next.height,width:t.width}}))).transition().duration(l.x).on("start",(function(){s++})).attrTween("d",u((function(t){return t.next}))).on("end",(function(){if(0==--s){if(t.call("animationUpdateEnd"),0===o.size())return t.call("animationEnterStart"),t.call("animationEnterEnd"),t.call("animationEnd"),e(i),void n(a.selectAll("path"));o.call(O,(function(){t.call("animationEnterEnd"),t.call("animationEnd"),e(i.merge(o)),n(a.selectAll("path"))}))}})))}(a,c)}))}function O(e,n){var r=0;e.style("fill",(function(t){return t.color})).style("stroke-width",0).attr("d",(function(t){return a(t.xPos,t.yPos,t.width,0,0)})).style("opacity",m),e.transition().duration(p+b).ease(c.easeElastic).delay((function(){return y+g.apply(this,arguments)})).attrTween("d",u((function(t){return t.next}))).on("start",(function(){0===r&&t.call("animationEnterStart"),r++})).on("end",(function(){0==--r&&n()}))}var x={scaleY:function(t){return arguments.length?(h=t.copy(),v):h},data:function(t){return arguments.length?(f=t,v):f},transitionDelay:function(t){return arguments.length?(g=t,v):g},transitionDuration:function(t){return arguments.length?(p=t,v):p},transitionTiming:function(t){return arguments.length?(d=t,v):d},renderDelay:function(t){return arguments.length?(y=t,v):y},dispatch:function(e){return arguments.length?(t=e,v):t},opacity:function(t){return arguments.length?(m=t,v):m},listenToLegend:function(t){return arguments.length?(e=t,v):e},addMouseEvents:function(t){return arguments.length?(n=t,v):n}};return Object.assign(v,x),v}}}]);