(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-bar_grouped"],{Cvcl:function(t,e,n){"use strict";n.r(e);var i=n("LvDl"),a=n.n(i),r=n("O7dx"),o=n("m1zM"),s=Object.create(o.default);e.default=s,function(){this.instanceClass=r.BarStacked,this.setupChartSheetOptionsItem=function(t){var e={categories:{colors:a.a.merge([],this.themeColors,t.colors||this.colors)},grid:{vertical:!0,horizontal:!1},graphOptions:{bar:{showValues:!!t.showInLineValues}},axis:[{},{}]};this.setupLegend(e,t);var n=e.axis[0],i=e.axis[1];return t.enableHeight||(e.categories.categoryHeight=t.categoryHeight||this.defaultCategoryHeight),n.title=t.xlabel||"",i.title=t.ylabel||"",a.a.has(t,"axis.x.ticks")&&(n.ticks=a.a.get(t,"axis.x.ticks")),a.a.has(t,"axis.y.ticks")&&(i.ticks=a.a.get(t,"axis.y.ticks")),"number"==typeof t.xmin&&(n.minLimit=t.xmin),"number"==typeof t.xmax&&(n.maxLimit=t.xmax),e.grid.vertical=this.getGridSettingsVertical(t),e.grid.verticalZero=this.getZeroBaselineVertical(t),this.assignAxisTickInterval(e,t),this.assignAxisTicks(e,t),this.assignNumberFormatValues({sheetOptions:e,custom:t,axis:[{id:"x",path:""},{id:"x1",path:"axis.x"}]}),this.assignNumberFormatLabels({sheetOptions:e,custom:t,affixes:[{id:"x",path:""},{id:"label",path:""}]}),e}}.call(s)},JZf3:function(t,e,n){"use strict";n.r(e);var i=n("N8kj"),a=n("Cvcl"),r=Object.create(a.default);e.default=r,function(t){this.instanceClass=i.BarGrouped,this.defaultCategoryHeight=20,this.defaultCategoryPadding=20,this.setupChartSheetOptionsItem=function(e){var n=t.setupChartSheetOptionsItem.call(this,e);return n.categories.padding=e.groupedBarCategoryPadding||this.defaultCategoryPadding,void 0!==e.showInLineValuesOutside&&(n.graphOptions.bar.valuesOutside=e.showInLineValuesOutside),n}}.call(r,a.default)},N8kj:function(t,e,n){"use strict";n.r(e),n.d(e,"BarGrouped",(function(){return V}));var i=n("LvDl"),a=n.n(i),r=n("vBe5"),o=n("ziQ1"),s=n("+3eq"),c=n("b/Qv"),l=n("pQx5"),u=n("ejCe"),h=n("VDPv"),d=n("BGfC"),g=n("v3rV"),f=n("t982"),p=n("x+1q"),y=n("BInE"),m=n("M51E"),x=n("SGek"),b=n("3y/1"),v=n("2YLo"),O=n("x5YE"),j=n("VLlq"),w=n("XKI8"),k=n("pYxU"),E=n("D3ez"),L=n("bmWO");function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t,e,n){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=G(t);if(e){var a=G(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return P(this,n)}}function P(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object(E.putGraph)("bar-grouped",L.BarGrouped);var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(E,t);var e,n,i,c=B(E);function E(){return I(this,E),c.apply(this,arguments)}return e=E,i=[{key:"getClassName",value:function(){return"BarGrouped"}}],(n=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.root,n=this.options,i=new v.Renderer({instance:this}),c=this.getSheetData(),w=Object(p.default)(c),E=this.runtime={width:n.width,height:n.height,components:{},metrics:{},layout:{},sheet:c,formatter:w,inanimate:Object(g.inanimated)(n)},L=E.layout,S=n.fixedHeight,I=c.axis[0],T=c.axis[1],D="absolute"===n.series.data,C=D?Object(l.getAllGraphs)(this):[this.prepareSheetData(c,this.sheetIndex)],B=D?C[this.sheetIndex]:C[0];this.createTickIntervals(),Object(j.default)(this,{width:n.width}),Object(k.DownloadButton)(this,n.style.legend);var P=Object(O.legendHelper)({instance:this});if(!this.sheetsNotFound(B)){var G,V=0,A=1,H=0,R=0,z=E.layout.marginTitle={left:0,right:0,top:0,bottom:0},M=E.layout.marginAxis={left:0,right:0},N=this.getCategoryData(B),U={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},_=L.leftLabelPadding={top:2,right:10,bottom:2,left:0},W=this.createAnimationCounter(3);c.categories.categoryHeight&&(G=Number(c.categories.categoryHeight));var F=x.math.preciseNumber,Z=n.style.axis.x,X=n.style.axis.y;this.titleLayout(["x","y"]);var Y={width:0,height:0};I.ticks&&((Y=Object(b.getTextDimensions)(w.axis.x.tickSample(),e,Z.tick)).height=Math.min(Y.height,30));var q=Y.height+5,Q=Number(c.categories.padding),J=q+Q/2,K=E.width-R-z.left-A-z.right,$=E.height-V-z.top-H-z.bottom,tt=Object(r.range)(0,N.length),et=Object(m.Ordinal)().domain(tt);if(!S&&G){for(var nt=c.series.length,it=G,at=Object(o.scaleBand)().range([0,it]).domain(Object(r.range)(0,nt)).paddingInner(.2).paddingOuter(0);G>at.bandwidth();)it+=1,at.range([0,it]);et.rangeBandsByWidth(it,Q,J);var rt=et.range()[et.range().length-1]+et.rangeBand()+J;E.height=rt+V+z.top+H+z.bottom,$=rt}else{et.rangeBands([0,$],Q,J);var ot=tt.length*et.rangeBand()+(tt.length-1)*et.padding();ot=F(ot),0===F($-ot)&&(J=q+(Q=F(Q=.1*(($-2*J)/tt.length-.1)))/2,et.rangeBands([0,$],Q,J))}var st=K-M.left-M.right,ct=Object(O.legendFiltered)(this),lt=Object(l.createGetDomain)("x"),ut=E.xDomain=ct?lt(B):Object(l.createGetDomainAbsolute)(lt)(C),ht=Object(y.limit)(I,ut);T.ticks||(_.right=0);var dt=0,gt=E.metrics.leftCategoryWidth=0,ft=Object(u.Left)().data([]),pt=ut[0]<0;if(T.ticks){dt=_.right,pt&&(dt*=2),U.maxLeftCategoryWidth=Math.floor(.35*st)-_.right;var yt=Object(b.getTextDimensions)(N,e,X.tick);U.maxLeftCategoryHeight=et.rangeBand()+et.padding()-_.top-_.bottom,yt.width<=U.maxLeftCategoryHeight?gt=yt.height:(gt=y.Measure.wrappedText(e,U.maxLeftCategoryWidth,N,X.tick,yt.height).width,gt=Math.ceil(gt)<=U.maxLeftCategoryWidth?Math.ceil(gt):Math.floor(gt)),E.metrics.leftCategoryWidth=gt,ft.scale(et).data(N).style(Z.tick).bounds({width:gt+_.right,height:$}).offset({left:-(gt+dt),top:0}).padding(_).drawSeparators(c.grid.vertical),st-=gt+_.right+dt}var mt=E.xScale=Object(o.scaleLinear)().rangeRound([0,st]).clamp(ht);mt.domain(ut);var xt=a.a.get(c,"graphOptions.bar",{}),bt=xt.showValues;xt.valuesOutside&&bt&&Object(f.adjustScaleToOutsideValues)({scale:mt,graphs:ct?B:a.a.flatten(C),axisOptions:I,getText:function(e){return t.runtime.formatter.labels.format(e.xLabel)},getTextMetrics:function(e){return Object(b.getAllTextDimensions)(e,t.root,t.options.style.graph.item.value)},getValue:function(t){return t.x},getTextSize:function(t){return t.width},adjust:function(t,e){return t-e},barSize:function(t,e){return t>0?e(t)-e(0):e(0)-e(t)}});var vt=Object(d.GridLines)().scale(et).orient(d.GridLines.ORIENTS.horizontal).tickSize(-K).highlightZero(c.grid.horizontalZeroHighlight).style(n.style.grid);c.grid.horizontal||vt.tickValues([]);var Ot=E.components.xGridLines=Object(d.GridLines)().scale(mt).orient(d.GridLines.ORIENTS.vertical).tickSize($).highlightZero(c.grid.verticalZeroHighlight).style(n.style.grid),jt=E.components.xAxisBottomText=Object(h.default)().scale(mt).orient("bottom").style(X.tick).textOffset(-5).offset({top:$-Y.height/4});L.igc={x:R+z.left+M.left+(gt+dt),y:V+z.top},this.xTicksSetup(),this.gridSetupVertical(),this.titleComponents(["x","y"]);var wt=E.components,kt=wt.bottomTitle,Et=wt.leftTitle;kt.orientBounds({y2:E.height-H-5,y1:V,x2:E.width,x1:R+z.left+M.left+gt+_.right}),Et.orientBounds({x2:E.width,x1:R+4,y2:V+z.top+$,y1:V+z.top}),kt.dispatch().on("animationEnd",W),E.inanimate&&Object(g.removeAnimation)([Et,kt,Ot,vt,ft,jt]),this.containerSetup();var Lt=e.select(".igc"),St=n.animation.duration;i.add((function(){e.attr("width",E.width).attr("height",E.height),e.transition().ease(s[n.animation.ease]).duration(St).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){W()})),Lt.attr("transform","translate(".concat(L.igc.x,", ").concat(L.igc.y,")"))})),T.ticks?(i.addGrid(ft,"igc-y-axis-text"),c.grid.vertical?i.add((function(){t.createBorderLineFunc(e.select(".igc .igc-grid .igc-y-axis-text"),ft)()})):i.addGrid((function(t){t.selectAll(".igc-y-axis-separator").remove(),t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text")):i.addGrid((function(t){t.selectAll(".tick").remove(),t.selectAll(".igc-y-axis-separator").remove(),t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text"),i.addGrid(vt,"igc-ygrid"),i.addGrid(Ot,"igc-xgrid"),i.addGrid(jt,"igc-x-axis-text"),i.addGraph([{graphs:B,x:mt,y:et,textStyle:n.style.graph.item.value,legend:P,transitionDuration:St,animationEnd:W}]),i.addTitle(Et,"igc-title-left"),i.addTitle(kt,"igc-title-bottom"),i.start()}}},{key:"renderGraphInstances",value:function(){var t,e=this,n=this.graphInstances.enterCount,i=this.graphInstances.updateCount,r=i+n,o=0===i&&n>0,s=i>0&&n>0,c=this.graphInstances.length,l=this.graphInstances[0].group,u=a.a.after(2,l.animationEnd),h=a.a.after(c,u);this.graphInstances.forEach((function(e){"update"===e.type&&(t=e.instance)}));var d=function(){if(0==--r){var t=a.a.after(c,u);e.graphInstances.forEach((function(e){var n=e.instance;n.dispatch().on("animationTextEnd",t),n.renderText()}))}};this.graphInstances.forEach((function(e){var n=e.instance,i=n.dispatch();if(s&&"enter"===e.type){i.on("animationEnterStart",d);var a=n.transitionTiming().duration;t&&(a=t.transitionTiming().duration);var r=a.x+a.y;n.renderDelay(r)}else o?i.on("animationStart",d):i.on("animationUpdateEnd",d);i.on("animationEnd",h),e.selection.call(e.instance)}))}},{key:"graphInstanceSetup",value:function(t,e,n,i){var a=this.legendData,r=this.runtime,o=r.sheet,s=r.formatter,c=o.series.length,l=Object(O.legendFiltered)(this),u=Object(g.removeDelay)(this,(function(t,e){return e/c*(i.transitionDuration-200)}));t.scaleX(i.x).scaleY(i.y).data(e.data).colors(e.colors).groupId(n).textStyle(i.textStyle).showValues(e.showValues).legend(i.legend).valuesOutside(e.valuesOutside).tooltip(Object(w.createStyledTooltip)(this)).tooltipText((function(t){return"".concat(t.yLabel,": ").concat(s.tooltip.x.format(t.xLabel))})).tooltipValue((function(t){return t.groupLabel})).numberFormat(s.labels).transitionDelay(u).transitionDuration(i.transitionDuration),l&&t.filter(a)}},{key:"defaults",value:function(){return a.a.merge({},D(G(E.prototype),"defaults",this).call(this),{series:{data:"separate"}})}},{key:"emptySheetData",value:function(){return a.a.merge({},D(G(E.prototype),"emptySheetData",this).call(this),{categories:{padding:20},series:[{type:"bar-grouped"}],graphOptions:{bar:{showValues:!0,valuesOutside:!1}},axis:[{title:"",ticks:!0},{title:"",ticks:!0}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})}},{key:"prepareSheetData",value:function(t,e){var n=t.categories.colors,i=a.a.get(t,"graphOptions.bar",{}),r=i.showValues,o=i.valuesOutside;t.categories.data||(t.categories.data=[]);var s,c=e===this.sheetIndex;c&&(s=Object(O.createLegendData)(this));var l=t.categories.data.length,u=t.categories.data.map((function(t,e){return{colors:n,data:[],categoryIdx:e,showValues:!0===r,valuesOutside:!!o,type:"bar-grouped"}}));t.series.forEach((function(e,n){for(var i=a.a.get(e,"index",n),r=0;r<l;r++){var o=t.categories.data[r];if(void 0!==o){var s=e.data[r];u[r].data.push({x:Object(b.replaceBlank)(s,null),y:r,xLabel:Object(b.replaceBlank)(e.rawData[r]),yLabel:Object(b.replaceBlank)(e.title),groupLabel:Object(b.replaceBlank)(o),seriesIdx:i,link:a.a.get(e,"links[".concat(r,"]"),null)})}}}));var h=u.length;return u.forEach((function(t){var e=t.data.length,n=0;0!==e&&(t.data.forEach((function(t){null===t.x&&n++})),n===e&&(t.data=[]))})),(u=u.filter((function(t){return t.data&&t.data.length>0}))).length!==h&&u.forEach((function(t,e){t.data.forEach((function(t){t.y=e}))})),c&&u.forEach((function(t){var e=t.colors;t.data=t.data.filter((function(t){return s({color:Object(b.getColor)(t.seriesIdx,e),title:t.yLabel,groupId:t.seriesIdx}).active}))})),u}}])&&T(e.prototype,n),i&&T(e,i),E}(c.default)},bmWO:function(t,e,n){"use strict";n.r(e),n.d(e,"BarGrouped",(function(){return p}));var i=n("LvDl"),a=n.n(i),r=n("30U6"),o=n("ziQ1"),s=n("/TIM"),c=n("+3eq"),l=n("XKI8"),u=n("RTfP"),h=n("RYHP"),d=n("3y/1"),g=n("XRHE"),f=n("eXr4");function p(){var t,e,n,i,p,y=Object(o.scaleLinear)(),m=Object(o.scaleLinear)(),x=[],b=d.schemeCategory10,v=!0,O=!1,j=Object(u.chartOptions)().style.graph.item.value,w=h.default.barToRight,k=Object(h.createTweenShape)(w,"y"),E=0,L={duration:{x:400,y:700,text:50}},S=0,I=700,T=function(t){return t.x},D=function(t){return t.y},C=Object(r.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl"),B=0,P=function(){},G=l.getTooltip;function V(t){L.duration.x=I,0===I&&(L.duration.y=I,L.duration.text=I),t.each((function(){if(x.length){var t=Object(s.select)(this),e=t.selectAll("path");e.transition().duration(0);var i=function(t){var e,n=m.bandwidth(),i=[],r=[],s=[];x.forEach((function(t,n){var a=i[n]={},o=t.x;a.width=y(o)-y(0),a.x=t.x,a.xPos=Math.round(y(0)+(a.width>0?1:0)),a.xLabel=t.xLabel,a.y=t.y,a.yPos=m(n),a.yLabel=t.yLabel,a.seriesIdx=t.seriesIdx,a.color=Object(d.getColor)(t.seriesIdx,b),a.groupLabel=t.groupLabel,a.link=t.link,r.push(t.seriesIdx),e=m(t.y)})),p&&x.forEach((function(t,e){p[t.seriesIdx].active||r.splice(e,1)}));var c=Object(o.scaleBand)().domain(r).range([e,e+n]).paddingInner(.2).paddingOuter(0);i.forEach((function(t){t.yPos=c(t.seriesIdx),t.height=c.bandwidth()})),t.each((function(t){var e=a.a.merge({},t);s.push(e)})),0===s.length&&(s=i.map((function(t){var e=a.a.merge({},t);return e.width=0,e})));return Object(d.pairData)(s,i,(function(t){t.width=0})),s}(e);t.selectAll("text").remove(),P=function(){!function(t,e){var i=e.map((function(t){return n?n.format(t.next.xLabel):""+t.next.xLabel})),r=Object(d.getAllTextDimensions)(i,t,j),o=a.a.get(e,"[0].height",0),s=v&&o>=r.height,l=[];s&&(l=g.Bar.prepareTextData(e,r,j,2,y,O));l.length&&s||C.call("animationTextEnd");var u=Object(f.createLabel)(t,l,j);Object(f.addOutline)(u,j,H),u.transition().duration(L.duration.text).style("opacity",1).on("start",(function(){S++})).on("end",(function(){0==--S&&C.call("animationTextEnd")})),M(u.filter((function(t){return t.inside}))),function(t){C.on("highlightStart.text",(function(e){t.filter(R(e)).transition().duration(150).ease(c.easeLinear).style("opacity",.3)})),C.on("highlightEnd.text",(function(e){t.filter(R(e)).transition().duration(150).ease(c.easeLinear).style("opacity",1)}))}(u)}(t,i)},function(t,e){var n=t.selectAll("path").data(e),i=n.enter().insert("path","text"),a=0===n.size()&&i.size()>0,r=L.duration,o=0;n.exit().remove(),n.style("fill",(function(t){return t.next.color})).style("stroke-width",0).style("opacity",null),a?(C.call("animationStart"),C.call("animationUpdateStart"),C.call("animationUpdateEnd"),C.call("animationEnterStart"),i.call(A,(function(){z(n=n.merge(i)),M(n),C.call("animationEnterEnd"),C.call("animationEnd")}))):(C.call("animationStart"),C.call("animationUpdateStart"),n.transition().duration(r.x).attrTween("d",k((function(t){return{xPos:t.next.xPos,yPos:t.yPos,width:t.next.width,height:t.height}}))).transition().duration(r.y).on("start",(function(){o++})).attrTween("d",k((function(t){return t.next}))).on("end",(function(){if(0==--o){if(C.call("animationUpdateEnd"),C.call("animationEnterStart"),0===i.size())return C.call("animationEnterEnd"),C.call("animationEnd"),z(n),void M(t.selectAll("path"));i.call(A,(function(){C.call("animationEnterEnd"),C.call("animationEnd"),z(n.merge(i)),M(t.selectAll("path"))}))}})))}(t,i)}}))}function A(t,e){var n=0;t.style("fill",(function(t){return t.color})).style("stroke-width",0).attr("d",(function(t){return w(t.xPos,t.yPos,0,t.height,0)})).transition().duration(I).ease(c.easeElastic).delay((function(){return B+E.apply(this,arguments)})).on("start",(function(){n++})).attrTween("d",k((function(t){return t.next}))).on("end",(function(){0==--n&&e()}))}var H=function(t){return n?n.format(t.text):t.text};function R(t){return function(e){return e.seriesIdx!==t}}function z(e){i&&i.data().forEach((function(e){i.addListener({id:"".concat(t,"_").concat(e.groupId),dispatch:C})})),C.on("highlightStart",(function(t){e.filter((function(e){return e.seriesIdx!==t})).transition().duration(150).ease(c.easeLinear).style("opacity",.3)})),C.on("highlightEnd",(function(t){e.filter((function(e){return e.seriesIdx!==t})).transition().duration(150).ease(c.easeLinear).style("opacity",1)}))}function M(t){t.classed("igc-chart-link",(function(t){return!(!t||!t.link)})).on("mouseover",(function(){G().interaction("show")})).on("mousemove",(function(t){var e,n,i=Object(d.getMousePosition)(s.event);e=T(t),n=D(t),G().setText(e).setValue(n).setPosition(i,t.color)})).on("mouseout",(function(){G().hide()})).on("click",(function(t){C.call("openUrl",null,t.link)}))}var N={scaleX:function(t){return arguments.length?(y=t.copy(),V):y},scaleY:function(t){return arguments.length?(m=t.copy(),V):m},data:function(t){return arguments.length?(x=t,V):x},colors:function(t){return arguments.length?(b=t,V):b},groupId:function(t){return arguments.length?(e=t,V):e},valuesOutside:function(t){return arguments.length?(O=!!t,V):O},chartId:function(e){return arguments.length?(t=e,V):t},showValues:function(t){return arguments.length?(v=!!t,V):v},textStyle:function(t){return arguments.length?(j=t,V):j},legend:function(t){return arguments.length?(i=t,V):i},tooltip:function(t){return arguments.length?(G=t,V):G},tooltipText:function(t){return arguments.length?(T=t,V):T},tooltipValue:function(t){return arguments.length?(D=t,V):D},numberFormat:function(t){return arguments.length?(n=t,V):n},transitionDelay:function(t){return arguments.length?(E=t,V):E},transitionDuration:function(t){return arguments.length?(I=t,V):I},transitionTiming:function(t){return arguments.length?(L=t,V):L},renderDelay:function(t){return arguments.length?(B=t,V):B},dispatch:function(){return C},renderText:function(){return P(),V},filter:function(t){return arguments.length?(p=t,V):p}};return Object.assign(V,N),V}}}]);